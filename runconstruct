# run a construct query on a sesame repository and convert output to rdfxml-abbrev
# set up for building tabs.xml which will be used to the tab section in the index.html
# page one level above the leaf maproom pages.  Run on a machine that has rapper,
# or execute the last command on a machine that does.

# set to use the trig file 

# use the current working dir

# run in the dir ingrid/maproom


date --iso-8601=minutes
/bin/rm -rf ./constructcache/*
java -Xmx2048m -jar /data/jdcorral/SVN4/generatentriple/build/dist/generatentriples.jar -cache=constructcache -loadfromtrig=newmaproomcache/owlimMaxRepository.trig -construct=/data/jdcorral/maproomtools/maproom_section_index.serql -constructoutput=./tabs.nt file://{$PWD}/maproomregistry.owl > constructlog.`date --iso-8601=minutes`
# java -Xmx2048m -jar /data/jdcorral/SVN4/generatentriple/build/dist/generatentriples.jar -cache=constructcache -repository=newmaproom-owl -construct=/data/jdcorral/maproomtools/maproom_section_index.serql -constructoutput=./tabs.nt file:///data/jdcorral/git_projects/ingrid/maproom/maproomregistry.owl > constructlog.`date --iso-8601=minutes`

date --iso-8601=minutes
rapper -q -i ntriples -o rdfxml-abbrev tabs.nt > tabs.xml


